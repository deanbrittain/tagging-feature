<div *ngIf="showCommentInput" class="comment-input-container">
    <div 
      class="comment-input" 
      contenteditable="true" 
      (input)="onCommentInputChange($event)"
      #commentInput>
    </div>
  
    <div *ngFor="let user of filteredUsers; let i = index"
         [class.highlighted]="i === highlightedIndex"
         (click)="selectUser(user)">
      {{ user.name }}
    </div>
    <button (click)="addComment()">Comment</button>
  </div>
  
  <div *ngFor="let comment of comments" class="comment-container">
    <div class="profile-container">
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png?20170328184010" alt="Profile Picture" class="profile-picture">
      <span class="user-name">{{ comment.userName }}</span>
    </div>
    <div class="comment-text">
      <ng-container *ngFor="let word of comment.text.split(' '); let last = last">
        <span *ngIf="word.startsWith('@')" class="tagged-name">{{ word }}</span>
        <span *ngIf="!word.startsWith('@')">{{ word }}</span>
        <ng-container *ngIf="!last">&nbsp;</ng-container>
      </ng-container>
    </div>
    <div class="timestamp">{{ comment.timestamp | date:'short' }}</div>
  </div>